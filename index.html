<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Silvester Está Alone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com"></script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; }
        .tab-content { display: none; }
        .active-content { display: block; }
        /* Cores das Abas */
        .tab-bulario.active-tab { border-bottom: 4px solid #a855f7; color: #a855f7; }
        .tab-calc.active-tab { border-bottom: 4px solid #f97316; color: #f97316; }
        .tab-prot.active-tab { border-bottom: 4px solid #94a3b8; color: #94a3b8; }
        .card-dark { background-color: #1e293b; border: 1px solid #334155; }
    </style>
</head>
<body class="pb-10">

    <!-- NAVEGAÇÃO SUPERIOR -->
    <nav class="sticky top-0 z-50 bg-[#0f172a] border-b border-slate-800 flex justify-around">
        <button onclick="mudarAba('bulario')" class="tab-bulario active-tab py-4 px-2 text-sm font-bold flex flex-col items-center gap-1 flex-1" id="btn-bulario">
            <i data-lucide="book-open" class="w-5 h-5"></i> BULÁRIO
        </button>
        <button onclick="mudarAba('calculadora')" class="tab-calc py-4 px-2 text-sm font-bold flex flex-col items-center gap-1 flex-1" id="btn-calculadora">
            <i data-lucide="calculator" class="w-5 h-5"></i> CALC
        </button>
        <button onclick="mudarAba('premium')" class="tab-prot py-4 px-2 text-sm font-bold flex flex-col items-center gap-1 flex-1" id="btn-premium">
            <i data-lucide="lock" class="w-5 h-5"></i> PROTOCOLOS
        </button>
    </nav>

    <!-- ABA 1: BULÁRIO (ROXO) -->
    <main id="bulario" class="tab-content active-content p-4">
        <div class="mb-6">
            <input type="text" id="busca" onkeyup="filtrarBulario()" placeholder="Pesquisar fármaco..." 
                   class="w-full p-4 rounded-xl bg-slate-800 border border-purple-500/30 text-white outline-none focus:ring-2 focus:ring-purple-500">
        </div>
        <div id="lista-bulario" class="space-y-4">
            <!-- Gerado via JS -->
        </div>
    </main>

    <!-- ABA 2: CALCULADORA GERAL (LARANJA) -->
    <main id="calculadora" class="tab-content p-4">
        <div class="card-dark p-6 rounded-2xl border-t-4 border-t-orange-500">
            <h2 class="text-orange-500 font-bold mb-4 flex items-center gap-2 uppercase tracking-wider">
                <i data-lucide="layers"></i> Cálculo Livre
            </h2>
            <div class="space-y-4">
                <input type="number" id="pesoG" placeholder="Peso do Animal (g)" class="w-full p-4 rounded-lg bg-slate-900 border border-slate-700">
                <input type="number" id="doseG" placeholder="Dose (mg/kg)" class="w-full p-4 rounded-lg bg-slate-900 border border-slate-700">
                <input type="number" id="concG" placeholder="Concentração (mg/ml)" class="w-full p-4 rounded-lg bg-slate-900 border border-slate-700">
                <button onclick="calcGeral()" class="w-full bg-orange-600 hover:bg-orange-500 text-white font-black py-5 rounded-xl transition-all shadow-lg shadow-orange-900/20">
                    CALCULAR AGORA
                </button>
                <div id="resGeral" class="text-center text-3xl font-mono text-orange-400 mt-4"></div>
            </div>
        </div>
    </main>

    <!-- ABA 3: PROTOCOLOS (CINZA) -->
    <main id="premium" class="tab-content p-4">
        <div class="py-20 text-center bg-slate-800/50 rounded-3xl border-2 border-dashed border-slate-700">
            <i data-lucide="shield-alert" class="w-16 h-16 mx-auto text-slate-500 mb-4"></i>
            <h2 class="text-xl font-bold text-slate-300">Banco de Dados Customizado</h2>
            <p class="text-slate-500 mt-2 px-10 text-sm">Desbloqueie para salvar seus próprios protocolos e doses favoritas.</p>
            <button class="mt-8 bg-slate-600 px-10 py-4 rounded-full font-bold text-white shadow-xl">
                ASSINAR PREMIUM
            </button>
        </div>
    </main>

    <script>
        const bulario = [
            { id: 1, nome: "Enrofloxacina", dose: 10, conc: 50, especie: "Répteis", obs: "A cada 24h" },
            { id: 2, nome: "Meloxicam", dose: 0.2, conc: 2, especie: "Aves/Répteis", obs: "Anti-inflamatório" },
            { id: 3, nome: "Cetamina", dose: 30, conc: 100, especie: "Mamíferos", obs: "Contenção" },
            { id: 4, nome: "Tramadol", dose: 5, conc: 50, especie: "Geral", obs: "Analgesia" }
        ];

        function renderizarBulario(dados) {
            const container = document.getElementById('lista-bulario');
            container.innerHTML = dados.map(m => `
                <div class="card-dark p-5 rounded-2xl border-l-8 border-purple-500 relative overflow-hidden">
                    <div class="flex justify-between">
                        <h3 class="text-xl font-black text-purple-400 uppercase italic">${m.nome}</h3>
                        <span class="text-[10px] text-slate-400 font-bold">${m.especie}</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-1">${m.obs} • Sugestão: ${m.dose}mg/kg</p>
                    
                    <div class="mt-4 flex gap-2 items-end">
                        <div class="flex-1">
                            <label class="text-[10px] text-purple-300 font-bold uppercase">Peso (g)</label>
                            <input type="number" id="peso-${m.id}" onkeyup="calcCard(${m.id}, ${m.dose}, ${m.conc})" 
                                   class="w-full p-2 rounded bg-slate-900 border border-slate-700 text-sm">
                        </div>
                        <div class="flex-1 bg-purple-900/20 p-2 rounded text-center border border-purple-500/20">
                            <span class="block text-[8px] text-purple-400 font-bold uppercase">Resultado</span>
                            <span id="res-${m.id}" class="text-lg font-mono font-bold text-white">0.00</span>
                            <span class="text-[10px] text-white">ml</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function calcCard(id, dose, conc) {
            const peso = document.getElementById(`peso-${id}`).value / 1000;
            if(peso > 0) {
                const res = (peso * dose) / conc;
                document.getElementById(`res-${id}`).innerText = res.toFixed(3);
            }
        }

        function calcGeral() {
            const p = document.getElementById('pesoG').value / 1000;
            const d = document.getElementById('doseG').value;
            const c = document.getElementById('concG').value;
            if(p && d && c) {
                document.getElementById('resGeral').innerText = ((p * d) / c).toFixed(3) + " ml";
            }
        }

        function filtrarBulario() {
            const t = document.getElementById('busca').value.toLowerCase();
            const f = bulario.filter(m => m.nome.toLowerCase().includes(t) || m.especie.toLowerCase().includes(t));
            renderizarBulario(f);
        }

        function mudarAba(aba) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active-content'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-tab'));
            document.getElementById(aba).classList.add('active-content');
            document.getElementById('btn-' + aba).classList.add('active-tab');
            lucide.createIcons();
        }

        lucide.createIcons();
        renderizarBulario(bulario);
    </script>
</body>
</html>

