<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Silvester Está Alone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com"></script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; font-family: 'Inter', sans-serif; }
        .tab-content { display: none; }
        .active-content { display: block; }
        .tab-bulario.active-tab { border-bottom: 4px solid #a855f7; color: #a855f7; }
        .tab-calc.active-tab { border-bottom: 4px solid #f97316; color: #f97316; }
        .tab-prot.active-tab { border-bottom: 4px solid #94a3b8; color: #94a3b8; }
        .card-dark { background-color: #1e293b; border: 1px solid #334155; }
    </style>
</head>
<body class="pb-10">

    <header class="pt-6 pb-2 bg-[#0f172a] text-center">
        <h1 class="text-2xl font-black tracking-tighter text-white uppercase italic">
            Silvester <span class="text-emerald-500">Está</span> Alone
        </h1>
        <p class="text-[10px] text-slate-500 font-bold tracking-widest uppercase mt-1">Veterinary Offline Support</p>
    </header>

    <nav class="sticky top-0 z-50 bg-[#0f172a]/95 backdrop-blur-sm border-b border-slate-800 flex justify-around">
        <button onclick="mudarAba('bulario')" class="tab-bulario active-tab py-4 px-2 text-[11px] font-black flex flex-col items-center gap-1 flex-1" id="btn-bulario">
            <i data-lucide="book-open" class="w-5 h-5"></i> BULÁRIO
        </button>
        <button onclick="mudarAba('calculadora')" class="tab-calc py-4 px-2 text-[11px] font-black flex flex-col items-center gap-1 flex-1" id="btn-calculadora">
            <i data-lucide="calculator" class="w-5 h-5"></i> CALC
        </button>
        <button onclick="mudarAba('premium')" class="tab-prot py-4 px-2 text-[11px] font-black flex flex-col items-center gap-1 flex-1" id="btn-premium">
            <i data-lucide="lock" class="w-5 h-5"></i> PROTOCOLOS
        </button>
    </nav>

    <main id="bulario" class="tab-content active-content p-4">
        <div class="mb-6">
            <div class="relative">
                <i data-lucide="search" class="absolute left-4 top-4 w-5 h-5 text-slate-500"></i>
                <input type="text" id="busca" onkeyup="filtrarBulario()" placeholder="Animal ou Fármaco..." 
                       class="w-full p-4 pl-12 rounded-2xl bg-slate-800 border border-purple-500/20 text-white outline-none focus:ring-2 focus:ring-purple-500">
            </div>
        </div>
        <div id="lista-bulario" class="space-y-4"></div>
    </main>

    <main id="calculadora" class="tab-content p-4">
        <div class="card-dark p-6 rounded-3xl border-t-8 border-t-orange-500 shadow-xl">
            <h2 class="text-orange-500 font-black mb-6 flex items-center gap-2 uppercase text-xl">
                <i data-lucide="zap"></i> Cálculo Livre
            </h2>
            <div class="space-y-5">
                <input type="number" id="pesoG" placeholder="Peso (g)" class="w-full p-4 rounded-xl bg-slate-900 border border-slate-700 outline-none">
                <input type="number" id="doseG" placeholder="Dose (mg/kg)" class="w-full p-4 rounded-xl bg-slate-900 border border-slate-700 outline-none">
                <input type="number" id="concG" placeholder="Conc. Frasco (mg/ml)" class="w-full p-4 rounded-xl bg-slate-900 border border-slate-700 outline-none">
                <button onclick="calcGeral()" class="w-full bg-orange-600 text-white font-black py-5 rounded-2xl active:scale-95 transition-all">CALCULAR</button>
                <div id="resGeralCont" class="hidden mt-6 p-6 bg-slate-900 rounded-2xl border border-orange-500/30 text-center">
                    <span id="resGeral" class="text-4xl font-black text-white">0.000</span><span class="text-orange-500 font-bold ml-1 text-xl">ml</span>
                </div>
            </div>
        </div>
    </main>

    <main id="premium" class="tab-content p-4">
        <div class="py-24 text-center bg-slate-800/30 rounded-[40px] border-2 border-dashed border-slate-700">
            <i data-lucide="lock" class="w-16 h-16 mx-auto text-slate-600 mb-4"></i>
            <h2 class="text-xl font-bold text-slate-300 uppercase">Meus Protocolos</h2>
            <p class="text-slate-500 mt-2 px-10 text-sm">Personalize o app com suas doses favoritas.</p>
        </div>
    </main>

    <script>
        // COLE SUA LISTA DA PLANILHA1 ABAIXO
        const minhaPlanilha = [
            {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Diazepan",
      "Dose/mg/kg": "2,5 IM",
      "doseMin": 2.5,
      "Uso": "Anestésico",
      "Notas": "convulsão/ MPA/ 20 min antes"
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Diazepan",
      "Dose/mg/kg": "0,2 - 1 IM",
      "doseMin": 0.2,
      "doseMax": 1,      
      "Uso": "Anestésico",
      "Notas": "Associado com cetamina"
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "2 IM",
      "doseMin": 2,
      "Uso": "Anestésico",
      "Notas": "Associado com cetamina"
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "30 - 50 IM",
      "doseMin": 30,
      "doseMax": 50,
      "Uso": "Anestésico",
      "Notas": "Indução e recuperação lenta - associar"
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Meloxicam",
      "Dose/mg/kg": "0,2 IM IV",
      "doseMin": 0.2,
      "Uso": "Analgésico/Antiiinf.",
      "Notas": "24h",
      "Concentração": 2 
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Cetoprofeno",
      "Dose/mg/kg": "2 IM SC",
      "doseMin": 2, 
      "Uso": "Analgésico/Antiiinf.",
      "Notas": "24h"
    },
    {
      "Animal": "Iguanas e Lagartos",
      "Medicação": "Dipirona",
      "Uso": "Analgésico/Antiiinf."
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,1 - 0,5 IM",
      "doseMin": 0.1,
      "doseMax": 0.5,
      "Uso": "Anestésico",
      "Notas": "MPA"
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "60 IM SC IV",
      "doseMin": 60,
      "Uso": "Anestésico",
      "Notas": "Associar "
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Xilazina",
      "Dose/mg/kg": "0,1 - 1 IM SC IV",
      "doseMin": 0.1,
      "doseMax": 1,
      "Uso": "Anestésico",
      "Notas": "Associar "
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Midazolam",
      "Uso": "Anestésico",
      "Notas": "Associar "
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Meloxicam",
      "Uso": "Anestésico",
      "Concentração": 2 
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório",
      "Notas": "Traumas"
    },
    {
      "Animal": "Serpentes",
      "Medicação": "Dipirona",
      "Uso": "Analgésico/Antiiinf."
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,25 - 0,5 IM",
      "doseMin": 0.25,
      "doseMax": 0.5,
      "Uso": "Anestésico"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "20 - 60 IM",
      "doseMin": 20,
      "doseMax": 60,
      "Uso": "Anestésico",
      "Notas": "Recuperação lenta"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Cetamina + Midazolam",
      "Dose/mg/kg": "20 - 40c + 2m IM",
      "Uso": "Anestésico",
      "Notas": "Boa sedação e relaxamento muscular"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Cetamina + Diazepam",
      "Dose/mg/kg": "60 - 80c + 0,2 - 1d IM",
      "Uso": "Anestésico",
      "Notas": "Bom relaxamento muscular"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Lidocaína",
      "Dose/mg/kg": "0,5 ou 2%",
      "doseMin": 0.5,
      "Uso": "Anestésico",
      "Notas": "Local"
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Meloxicam",
      "Dose/mg/kg": "0,1 - 0,2 IM",
      "doseMin": 0.1,
      "doseMax": 0.2,
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Cágado e Jabuti",
      "Medicação": "Dexametasona",
      "Dose/mg/kg": "2 -4 IM IV",
      "doseMin": 2,
      "doseMax": 4,
      "Uso": "Antiinflamatório",
      "Notas": "Traumas, choque"
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,1 - 0,5 VO SC",
      "doseMin": 0.1,
      "doseMax": 0.5,
      "Uso": "Anestésico",
      "Notas": "Tranquilizante"
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Dexametasona",
      "Dose/mg/kg": "0,2 IM IV SC",
      "doseMin": 0.2,
      "Uso": "Antiinflamatório",
      "Notas": "Dose para choque até 2 mg/kg"
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "30 - 50 IM",
      "doseMin": 30,
      "doseMax": 50,
      "Uso": "Anestésico",
      "Notas": "Associar "
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Meloxicam",
      "Dose/mg/kg": "0,1 - 0,2 VO SC",
      "doseMin": 0.1, 
      "doseMax":0.2,  
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "0,5 - 1 IM",
      "doseMin": 0.5,
      "doseMax": 1,
      "Uso": "Anestésico",
      "Notas": "Associar "
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Tramadol",
      "Dose/mg/kg": "2 - 6 IM SC VO",
      "doseMin": 2,
      "doseMax": 6,
      "Uso": "Analgésico ",
      "Notas": "Associar com dipirona"
    },
    {
      "Animal": "Gambá e Cuica",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Tamanduás e Tatus",
      "Medicação": "Cetamina + Midazolam",
      "Dose/mg/kg": "5 - 10c + 0,2m IM",
      "Uso": "Anestésico",
      "Notas": "Procedimentos rápidos - Tem reversor - Flumazenil 0,01 - 0,02"
    },
    {
      "Animal": "Tamanduás e Tatus",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Tamanduás e Tatus",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Tamanduás e Tatus",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Tamanduás e Tatus",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Primatas",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,5 - 1 VO SC IM",
      "doseMin": 0.5,
      "doseMax": 1,
      "Uso": "Anestésico",
      "Notas": "Tranquilizante"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Cetamina",
      "doseMin": 10,
      "doseMax": 20,
      "Dose/mg/kg": "10 - 20 IM",
      "Uso": "Anestésico",
      "Notas": "Tranquilizante e neuroleptoanalgesia"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Cetamina + Diazepam",
      "Dose/mg/kg": "15c - 1d IM",
      "Uso": "Anestésico",
      "Notas": "Sedação"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Diazepam",
      "Dose/mg/kg": "0,5 - 1 VO IM IV",
      "doseMin": 0.5,
      "doseMax": 1,
      "Uso": "Anestésico",
      "Notas": "Metade da dose para anticonvulsivante"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "0,1 - 0,5 IM",
      "doseMin": 0.1,
      "doseMax": 0.5,
      "Uso": "Anestésico",
      "Notas": "Sedação e relaxamento muscular"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Dexametasona",
      "Dose/mg/kg": "2 VO IM IV",
      "doseMin": 2,
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Ibuprofeno",
      "Dose/mg/kg": "20 VO",
      "doseMin": 20,
      "Uso": "Analgésico/Antiiinf."
    },
    {
      "Animal": "Primatas",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Primatas",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Primatas",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "7 - 10 IM",
      "doseMin": 7,
      "doseMax": 10,
      "Uso": "Anestésico",
      "Notas": "Associar com Midazolam"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "0,3 - 0,5 IM",
      "doseMin": 0.3,
      "doseMax": 0.5,
      "Uso": "Anestésico",
      "Notas": "Associar com Cetamina"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Lidocaína",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Acepromazina",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Canidae",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Felidae",
      "Medicação": "Cetamina",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Midazolam",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Lidocaína",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Acepromazina",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Felidae",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,1 - 0,3 IM SC VO",
       "doseMin": 0.1,
      "doseMax": 0.3,
      "Uso": "Anestésico",
      "Notas": "Tranquilizante"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "10 - 20 IM ",
       "doseMin": 10,
      "doseMax": 20,
      "Uso": "Anestésico",
      "Notas": "Usar associado"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Cetamina + Acepromazina",
      "Dose/mg/kg": "10 - 20c + 0,05 - 0,3a IM",
      "Uso": "Anestésico",
      "Notas": "Funciona bem quando IM"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Cetamina + Midazolam",
      "Dose/mg/kg": "10c + 0,25m IM",
      "Uso": "Anestésico",
      "Notas": "Contenção curta duração - pode ocorrer taquicardia"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Ariranha, Lontra e Irara",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Cetamina + Midazolam",
      "Dose/mg/kg": "7c + 0,5 - 1m IM",
      "Uso": "Anestésico",
      "Notas": "Captura, manipulação, sedação com retorno calmo"
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Acepromazina",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Quati, Mão Pelada e Jupará",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Antas",
      "Medicação": "Tiletamina - zolazepam + Cetamina + Atropina + Medetomidina",
      "Uso": "Anestésico",
      "Notas": "Protocolo para dardos, em ordem - 1,25 - 0,83tz; 0,62 - 0,41c; 0,025 - 0,04a; 0,006 - 0,004mdt/ Atipemazol para recuperação após 30 min dose de 0,06mg/kg"
    },
    {
      "Animal": "Antas",
      "Medicação": "Tiletamina - zolazepam",
      "Dose/mg/kg": "6 IM",
      "doseMin": 6,
      "Uso": "Anestésico"
    },
    {
      "Animal": "Antas",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Antas",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Antas",
      "Medicação": "Butorfanol ",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Queixada, Cateto e Javali",
      "Medicação": "Cetamina + Midazolam",
      "Dose/mg/kg": "10 - 30c + 0,3 - 0,5m",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Queixada, Cateto e Javali",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Queixada, Cateto e Javali",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Queixada, Cateto e Javali",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Cervidae",
      "Medicação": "Cetamina",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Cervidae",
      "Medicação": "Midazolam",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Cervidae",
      "Medicação": "Meloxicam",
      "Uso": "Analgésico/Antiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Cervidae",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Cervidae",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Capivara, Paca, Cutia e Ouriço",
      "Medicação": "Extrapolação alometrica com domésticos"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Acepromazina",
      "Dose/mg/kg": "0,5 - 2 IM SC",
      "doseMin": 0.5,
      "doseMax": 2,
      "Uso": "Anestésico"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Cetamina + Acepromazina",
      "Dose/mg/kg": "75 + 5 ou 50 + 1 IM",
      "Uso": "Anestésico"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Cetoprofeno",
      "Dose/mg/kg": "1 - 3 IM SC",
       "doseMin": 1,
      "doseMax": 3,
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Meloxicam",
      "Dose/mg/kg": "0,1 - 0,3 IM SC VO",
       "doseMin": 0.1,
      "doseMax": 0.3,
      "Uso": "Analgésico/Antiiinf.",
      "Concentração": 2 
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "0,5 - 2 IV IM IP Intranasal",
       "doseMin": 0.5,
      "doseMax": 2,
      "Uso": "Anestésico"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Dipirona",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Tramadol",
      "Uso": "Analgésico"
    },
    {
      "Animal": "Lebre e Tapiti",
      "Medicação": "Dexametasona",
      "Uso": "Antiinflamatório"
    },
    {
      "Animal": "Arara, PEA, Maracanã, Gaviões e geral",
      "Medicação": "Cetamina",
      "Dose/mg/kg": "10 - 40 IM SC e intranasal",
       "doseMin": 10,
      "doseMax": 40,
      "Uso": "Anestésico",
      "Nota": "Associar com midazolam"
  },
  {
    "Animal": "Arara, PEA, Maracanã, Gaviões e geral",
      "Medicação": "Midazolam",
      "Dose/mg/kg": "0,1 - 0,4 IM SC e intranasal",
       "doseMin": 0.1,
      "doseMax": 0.4,
      "Uso": "Anestésico",
      "Nota": "Associar com cetamina"
  },
  {
    "Animal": "Arara, PEA, Maracanã, Gaviões e geral",
      "Medicação": "Meloxicam",
      "Dose/mg/kg": "0,5 IM",
      "doseMin": 0.5,
      "Uso": "Anestésico",
      "Nota": "Associar com midazolam",
      "Concentração": 2   
  },
  {
    "Animal": "Arara, PEA, Maracanã, Gaviões e geral",
      "Medicação": "Dexametasona",
      "Dose/mg/kg": "0,2 - 1 IM SC",
       "doseMin": 0.2,
      "doseMax": 1,
      "Uso": "Antiinflamatório",
      "Nota": "sem notas"
            }
           
        ];

    function renderizarBulario(dados) {
    const container = document.getElementById('lista-bulario');
    container.innerHTML = dados.map((m, index) => `
        <div class="card-dark p-5 rounded-[24px] border-l-[10px] border-purple-500 shadow-xl">
            <div class="flex justify-between items-start">
                <h3 class="text-xl font-black text-purple-400 uppercase italic leading-tight">${m["Medicação"]}</h3>
                <span class="text-[12px] bg-purple-900/70 text-purple-200 px-4 py-2 rounded font-bold self-start">${m["Animal"]}</span>
            </div>
            <div class="mt-2 text-[10px] text-slate-400 font-bold uppercase tracking-widest border-b border-slate-700/50 pb-2">
                ${m["Uso"] || 'Geral'} • <span class="text-slate-500 capitalize">${m["Notas"] || ''}</span>
            </div>
            
            <p class="text-[10px] text-purple-300/80 font-bold mt-2 uppercase tracking-tight">
                Dose Ref: ${m.doseMax ? m.doseMin + ' - ' + m.doseMax : m.doseMin} mg/kg
            </p>

            <div class="mt-4 grid grid-cols-2 gap-3">
                <div class="col-span-2">
                     <label class="text-[9px] text-slate-500 font-black uppercase ml-1">Peso do Animal (kg)</label>
                     <input type="number" step="0.001" id="peso-${index}" oninput="calcAuto(${index})" placeholder="Ex: 0.300 ou 400" 
                            class="w-full p-3 rounded-xl bg-slate-900 border border-slate-700 text-white font-bold outline-none focus:border-purple-500">
                </div>
                <div>
                     <label class="text-[9px] text-purple-300 font-black uppercase ml-1">Conc. (mg/ml)</label>
                     <input type="number" id="conc-${index}" value="${m.conc || ''}" oninput="calcAuto(${index})" placeholder="Ex: 5" 
                            class="w-full p-3 rounded-xl bg-slate-900 border border-slate-700 text-white font-bold outline-none focus:border-purple-500">
                </div>
                <div class="bg-purple-600/20 p-2 rounded-2xl border border-purple-500/30 text-center flex flex-col justify-center">
                    <span class="text-[8px] text-purple-400 font-black uppercase">Volume (ml)</span>
                    <span id="res-${index}" class="text-md font-black text-white leading-tight">0.000</span>
                </div>
            </div>
        </div>
    `).join('');
    lucide.createIcons();
}

function calcAuto(index) {
    const termo = document.getElementById('busca').value.toLowerCase();
    const listaAtual = termo ? minhaPlanilha.filter(m => 
        m["Animal"].toLowerCase().includes(termo) || 
        m["Medicação"].toLowerCase().includes(termo)
    ) : minhaPlanilha;
    
    const item = listaAtual[index];
    const pesoKg = document.getElementById(`peso-${index}`).value; // Valor direto em Kg
    const concInput = document.getElementById(`conc-${index}`).value;
    const resDisplay = document.getElementById(`res-${index}`);

    if (pesoKg > 0 && concInput > 0) {
        // Cálculo direto: (Kg * dose) / conc
        let resMin = (pesoKg * item.doseMin) / concInput;
        
        if (item.doseMax) {
            let resMax = (pesoKg * item.doseMax) / concInput;
            resDisplay.innerText = resMin.toFixed(3) + " - " + resMax.toFixed(3);
        } else {
            resDisplay.innerText = resMin.toFixed(3);
        }
    } else {
        resDisplay.innerText = "0.000";
    }
}

       
   


    function filtrarBulario() {
        const t = document.getElementById('busca').value.toLowerCase();
        const f = minhaPlanilha.filter(m => 
            m["Animal"].toLowerCase().includes(t) || 
            m["Medicação"].toLowerCase().includes(t)
        );
        renderizarBulario(f);
    }

    function mudarAba(aba) {
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active-content'));
        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-tab'));
        document.getElementById(aba).classList.add('active-content');
        document.getElementById('btn-' + aba).classList.add('active-tab');
        lucide.createIcons();
    }

    function calcGeral() {
        const p = document.getElementById('pesoG').value / 1000;
        const d = document.getElementById('doseG').value;
        const c = document.getElementById('concG').value;
        if(p && d && c) {
            document.getElementById('resGeralCont').classList.remove('hidden');
            document.getElementById('resGeral').innerText = ((p * d) / c).toFixed(3);
        }
    }

    lucide.createIcons();
    renderizarBulario(minhaPlanilha);
         </script>
</body>
</html>

